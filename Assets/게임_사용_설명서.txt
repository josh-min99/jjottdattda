================================================================================
                    CODE: RED 게임 사용 설명서
================================================================================

1. 게임 시작 방법
================================================================================

1.1 기본 설정
- Unity 에디터에서 게임을 실행하거나 빌드된 실행 파일을 실행합니다.
- 자동으로 Photon 네트워크에 연결되어 랜덤 방에 입장하거나 방을 생성합니다.
- 2명의 플레이어가 방에 입장하면 게임이 시작됩니다.

1.2 게임 시작 흐름
1) 방 입장 완료
2) 맵 생성 (1초 대기)
3) 첫 라운드 시작
4) 플레이어가 직접 타일을 점령하여 시작 (초기 타일 분배 없음)

1.3 게임 규칙
- 6라운드, 각 라운드당 3턴으로 진행됩니다.
- 1턴에는 게임 종료 조건이 체크되지 않습니다 (최소 2턴 이상 진행 필요).
- 플레이어는 직접 타일을 점령하여 영토를 확장해야 합니다.


2. 주요 스크립트 Inspector 설정 방법
================================================================================

2.1 MapGenerator (맵 생성기)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Settings]
- Hex Tile Prefab: 육각형 타일 프리팹 할당
- Map Holder: 생성된 타일들이 들어갈 부모 Transform 할당

[Target Settings]
- Target Tile Count: 목표 타일 개수 (기본값: 175)

[Map Image]
- Map Image: 맵 형태를 결정할 소스 이미지 (Texture2D)
- Target Color: 이미지에서 땅으로 인식할 색상 (기본값: Blue)
- Color Threshold: 색상 허용 오차 (0~1, 기본값: 0.3)

[Camera Setting]
- Auto Fit Camera: 맵 생성 후 카메라 자동 맞춤 여부 (체크)
- Padding: 카메라 줌 설정 시 여백 (0.5~3.0, 기본값: 2.0)

[Tile Scale]
- Tile Scale: 타일 크기 배율 (0.1~2.0, 기본값: 1.0)

[Bridge Settings]
- Bridge Material: 다리 렌더링에 사용할 재질 (Material)
- Bridge Width: 다리의 두께 (기본값: 0.15)

[Starting Positions]
- Team 1 Start Tile ID: 팀 1(마포구)의 시작 타일 ID
  * 예: 5 (타일 ID 5번이 팀 1의 시작 위치)
- Team 2 Start Tile ID: 팀 2(강남구)의 시작 타일 ID
  * 예: 100 (타일 ID 100번이 팀 2의 시작 위치)

[Bridge Connections]
- Bridge Pairs: 다리로 연결할 타일 쌍 리스트
  * Size: 다리 쌍 개수 설정
  * Element 0:
    - Tile ID A: 첫 번째 타일 ID
    - Tile ID B: 두 번째 타일 ID
  * 예: 마포-강서 다리
    - Tile ID A: 10
    - Tile ID B: 20

- Bridge Groups: 다리 연결 그룹 (한 타일에서 여러 타일로 연결)
  * Size: 다리 그룹 개수 설정
  * Element 0:
    - Center Tile ID: 중심 타일 ID
    - Connected Tile IDs: 연결할 타일 ID 리스트
      * Size: 연결할 타일 개수
      * Element 0: 타일 ID 1
      * Element 1: 타일 ID 2
      * Element 2: 타일 ID 3
  * 예: 타일 50에서 타일 60, 70, 80으로 연결
    - Center Tile ID: 50
    - Connected Tile IDs: [60, 70, 80]


2.2 GameNetworkManager (게임 네트워크 매니저)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Game Rule Settings]
- Clean Zone Count Per Round: 청정 구역 개수 (참고용, 실제는 3라운드에 5개 생성)
- Money Per Kill: 킬 당 기본 보상 (기본값: 10)
- Money Bonus Clean Zone: 청정 구역 점령 시 즉시 지급 보너스 (기본값: 500)
- Money Per Cumulative Death: 누적 사망자 1명당 라운드 시작 시 지급되는 돈 (기본값: 5)
- Money Per Survivor Problem: 잔류인원 1명당 푼 문제 1개당 지급되는 돈 (기본값: 2)

[Round & Turn Settings]
- Current Round: 현재 진행 중인 라운드 (런타임 값)
- Max Rounds: 게임의 최대 라운드 수 (기본값: 6)
- Turns Per Round: 한 라운드당 진행되는 턴 수 (기본값: 3)
- Current Turn: 현재 전체 턴 수 (런타임 값)
- Max Turns: 게임 종료까지의 총 턴 수 (기본값: 18)
- Population Growth: 턴 종료 시 자연 증가하는 인구 수 (기본값: 10)
- Round Duration: 라운드 제한 시간 (초 단위, 기본값: 1800초 = 30분)
- Turn Duration: 턴 제한 시간 (초 단위, 기본값: 600초 = 10분)

[UI References]
- Txt Turn Info: 상단 라운드/턴 정보 텍스트 (TextMeshProUGUI)
- Btn End Turn: 턴 종료 버튼 (GameObject)
- Panel Victory: 승리/패배 결과 패널 (GameObject)
- Txt Victory Message: 결과 메시지 (TextMeshProUGUI)

[Mode Settings]
- Is Attack Mode: 현재 공격 모드인지 여부 (런타임 값)

[Player Prefab]
- Player Prefab: 네트워크 스폰용 플레이어 프리팹 (GameObject)


2.3 ShopManager (상점 매니저)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[UI References]
- UI Shop Panel: 상점 UI 패널 (GameObject)

[Upgrade Costs]
- Cost Infection Upgrade: 전염률 업그레이드 가격 (기본값: 100원)
- Cost Fatality Upgrade: 치사율 업그레이드 가격 (기본값: 150원)
- Cost Vaccine Upgrade: 백신 업그레이드 가격 (기본값: 200원)

[Item Costs]
- Cost Random Item: 랜덤 아이템 가격 (기본값: 300원)
- Cost Bomb: 폭탄 가격 (기본값: 150원) ⭐ 기획서 요구사항
- Cost Bio Weapon: 바이러스 증폭 생화학 무기 가격 (기본값: 100원) ⭐ 기획서 요구사항
- Cost Secret Doc: 정부 기밀 문서 가격 (기본값: 50원) ⭐ 기획서 요구사항

[Cost Texts (Optional)]
- Txt Infection Cost: 전염률 업그레이드 가격 텍스트 (TextMeshProUGUI, 선택사항)
- Txt Fatality Cost: 치사율 업그레이드 가격 텍스트 (TextMeshProUGUI, 선택사항)


2.4 EventManager (이벤트 매니저)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Current Event]
- Current Event: 현재 진행 중인 이벤트 (런타임 값)
- Global Fatality Debuff: 언론 보도로 인한 글로벌 치사율 감소 수치 (런타임 값)

※ 이벤트는 자동으로 발생하므로 Inspector 설정 불필요


2.5 GamePlayer (게임 플레이어)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Player Info]
- My Team: 플레이어의 팀 번호 (런타임 값, 1 또는 2)
- Money: 현재 보유 자금 (런타임 값)

[Current Virus Stats]
- Infection Rate: 전염률 (기본값: 50%)
- Fatality Rate: 치사율 (기본값: 50%)
- Spread Power: 확산력 (기본값: 50%)

[Vaccine Stats]
- Vaccine Rate: 백신 성공률 및 보급률 (기본값: 70%)
- Vaccine Range: 백신 사거리 (기본값: 3칸)

[Survivor System]
- Solved Problems Count: 잔류인원이 푼 문제 수 (조교/관리자 입력)

[Mutant Buff System (5라운드)]
- Has Mutant Buff: 돌연변이 버프 활성화 여부 (런타임 값)
- Used Guaranteed Infection: 감염 성공률 100% 사용 여부 (런타임 값)
- Mutant Buff Round: 버프가 적용된 라운드 (런타임 값)

[Disaster Debuff System]
- Has Blackout Debuff: 정전 사태 디버프 여부 (런타임 값)


2.6 ItemManager (아이템 매니저)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[Current Selected Item]
- Current Item: 현재 선택된 아이템 (런타임 값)

[Item Counts]
- Count Gene Scissors: 유전자 가위 보유 개수 (런타임 값)
- Count Bomb: 폭탄 보유 개수 (런타임 값)
- Count Bio Weapon: 생화학 무기 보유 개수 (런타임 값)
- Count Secret Doc: 정부 기밀 문서 보유 개수 (런타임 값)
- Count Super Antibody: 슈퍼 항체 보유 개수 (런타임 값)

[UI References (Optional)]
- Txt Scissors: 유전자 가위 개수 텍스트 (TextMeshProUGUI, 선택사항)
- Txt Bomb: 폭탄 개수 텍스트 (TextMeshProUGUI, 선택사항)
- Txt Bio: 생화학 무기 개수 텍스트 (TextMeshProUGUI, 선택사항)
- Txt Doc: 정부 기밀 문서 개수 텍스트 (TextMeshProUGUI, 선택사항)
- Txt Antibody: 슈퍼 항체 개수 텍스트 (TextMeshProUGUI, 선택사항)


3. 게임 플레이 방법
================================================================================

3.1 기본 조작
- 마우스 클릭: 타일 선택 및 상호작용
- 공격 모드: 타일 클릭 시 바이러스 공격
- 백신 모드: 타일 클릭 시 백신 투여
- 아이템 모드: 아이템 선택 후 타일 클릭 시 아이템 사용
- 턴 종료 버튼: 현재 턴 종료

3.2 공격 모드
- 인접한 적 타일 또는 중립 타일을 공격할 수 있습니다.
- 돌연변이 버프: 감염 가능 타일 +1 (5라운드)
- 정전 사태 디버프: 감염 가능 타일 -1 (4라운드 2턴)
- 행동력(AP)이 필요합니다 (전염률 / 20).

3.3 백신 모드
- 사거리 내의 적 타일에 백신을 투여할 수 있습니다.
- 백신 보급률에 따라 사용 가능한 타일 개수가 제한됩니다.
- 사용 가능 횟수 = 백신 보급률 / 20 (최소 1개)

3.4 아이템 사용
- 유전자 가위: 적 타일 클릭 시 해당 타일 소유자의 바이러스 타입을 다른 바이러스로 치환
- 폭탄: 타일 클릭 시 해당 타일 완전 파괴 (인구 0, 소유권 초기화)
- 생화학 무기: 타일 클릭 시 해당 타일에 생화학 무기 설치 (치사율 2배)
- 정부 기밀 문서: 즉시 사용, 적군의 스탯 정보 확인
- 슈퍼 항체: 즉시 사용, 백신 성공률 +20%, 사거리 +1 영구 강화


4. 특수 시스템
================================================================================

4.1 라운드별 특수 이벤트
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[3라운드]
- 청정 구역 5개 생성
- 청정 구역 점령 시 즉시 500원 보너스

[4라운드]
- 1턴: 방역 드론 (랜덤 4개 타일 감염 불가)
- 2턴: 정전 사태 (감염 가능 타일 -1)
- 3턴: 언론 보도 (전역 치사율 -15%)

[5라운드]
- 돌연변이 버프 적용 (1라운드 지속)
  * 치사율 +20% 증가
  * 감염 가능 타일 +1 증가
  * 감염 성공률 100% (1번만)
  * 자기 타일 인구 자동 회복 (매 턴 10명씩)
- C형 바이러스 4개 타일 생성

[2라운드, 5라운드]
- C형 바이러스 4개 타일 생성
- C형 바이러스 특수능력: 돌진확산 (2칸 직선)


4.2 동시 도착 공격 처리
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

- 같은 타일로 향하는 공격이 0.1초 이내에 들어오면 동시 도착으로 처리됩니다.
- 확률 계산: 각 확률을 3으로 나눈 값을 사용하여 성공 확률 결정
- 예: A바이러스 50%, B바이러스 80% → A 50/3%, B 200/3%, 실패 50/3%


4.3 바이러스 타입
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

- None: 기본 바이러스
- Rush: 돌진형 (행동력 +1)
- Ambush: 매복형 (타일 정보 숨김)
- Gamble: 도박형 (치사율 2배, 짝수 턴 과열 패널티)
- Mutant: 변이형 (매 턴 스탯 랜덤 변경)
- 각 바이러스는 최대 2회 사용 가능


5. 맵 설정 예시
================================================================================

5.1 서울 모양 맵 설정
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[MapGenerator 설정]
- Map Image: 서울 지도 이미지 할당
- Target Color: 파란색 (땅으로 인식할 색상)
- Target Tile Count: 175 (25개구 × 7타일)

[Starting Positions]
- Team 1 Start Tile ID: 마포구 중심 타일 ID (예: 5)
- Team 2 Start Tile ID: 강남구 중심 타일 ID (예: 100)

[Bridge Connections]
- Bridge Pairs:
  * Pair 0: 마포-강서 (Tile ID A: 10, Tile ID B: 20)
  * Pair 1: 용산-동작 (Tile ID A: 30, Tile ID B: 40)
  * Pair 2: 광진-강남 (Tile ID A: 50, Tile ID B: 60)

또는

- Bridge Groups:
  * Group 0: 마포에서 여러 구로 연결
    - Center Tile ID: 10
    - Connected Tile IDs: [20, 30, 40]


6. 디버깅 및 테스트
================================================================================

6.1 AdminManager 사용
- 게임 중 AdminManager를 통해 디버깅 명령어 사용 가능
- 예: 돈 지급, 아이템 지급, 스탯 설정 등

6.2 로그 확인
- Unity Console에서 게임 진행 상황 확인
- 주요 이벤트, 공격, 아이템 사용 등이 로그로 출력됩니다.


7. 주의사항
================================================================================

- 맵 이미지는 반드시 할당해야 합니다.
- 타일 ID는 맵 생성 후 확인할 수 있습니다 (타일 이름: Tile_0, Tile_1, ...).
- 다리 연결 시 타일 ID가 유효한지 확인하세요.
- 스폰 위치 타일 ID도 맵 생성 후 확인하여 설정하세요.
- Photon 네트워크 설정이 올바른지 확인하세요.


8. 문제 해결
================================================================================

8.1 게임이 시작되지 않는 경우
- MapGenerator의 Map Image가 할당되었는지 확인
- Hex Tile Prefab이 할당되었는지 확인
- Photon 네트워크 연결 상태 확인

8.2 다리가 생성되지 않는 경우
- 타일 ID가 올바른지 확인 (맵 생성 후 확인)
- Bridge Material이 할당되었는지 확인
- 타일이 실제로 존재하는지 확인

8.3 스폰 위치가 작동하지 않는 경우
- Team 1 Start Tile ID와 Team 2 Start Tile ID가 올바른지 확인
- 타일 ID가 맵에 존재하는지 확인


================================================================================
                            문서 작성 완료
================================================================================

